{"meta":{"title":"书签随笔","subtitle":"","description":"","author":"Segn","url":"http://example.com","root":"/"},"pages":[],"posts":[{"title":"KMDF驱动开发（一）","slug":"KMDF驱动开发（一）","date":"2022-04-08T02:05:37.000Z","updated":"2022-04-08T02:06:27.109Z","comments":true,"path":"2022/04/08/KMDF驱动开发（一）/","link":"","permalink":"http://example.com/2022/04/08/KMDF%E9%A9%B1%E5%8A%A8%E5%BC%80%E5%8F%91%EF%BC%88%E4%B8%80%EF%BC%89/","excerpt":"","text":"KMDF下的Hello World开发1 创建和生成驱动程序1.1 创建一个空的KMDF项目 项目结构： 指定目标平台、SDK版本等信息 添加新项Driver.c 1.2 编写驱动程序代码添加头文件 12#include&lt;ntddk.h&gt;#include&lt;wdf.h&gt; 声明回调函数 12DRIVER_INITIALIZE DriverEntry;EVT_WDF_DRIVER_DEVICE_ADD KmdfHelloWorldEvtDeviceAdd; 编写DriverEntry 123456789101112131415161718192021222324252627282930NTSTATUS DriverEntry( _In_ PDRIVER_OBJECT DriverObject, _In_ PUNICODE_STRING RegistryPath)&#123; // NTSTATUS variable to record success or failure NTSTATUS status = STATUS_SUCCESS; // Allocate the driver configuration object WDF_DRIVER_CONFIG config; // Print &quot;Hello World&quot; for DriverEntry KdPrintEx(( DPFLTR_IHVDRIVER_ID, DPFLTR_INFO_LEVEL, &quot;KmdfHelloWorld: DriverEntry\\n&quot; )); // Initialize the driver configuration object to register the // entry point for the EvtDeviceAdd callback, KmdfHelloWorldEvtDeviceAdd WDF_DRIVER_CONFIG_INIT(&amp;config, KmdfHelloWorldEvtDeviceAdd ); // Finally, create the driver object status = WdfDriverCreate(DriverObject, RegistryPath, WDF_NO_OBJECT_ATTRIBUTES, &amp;config, WDF_NO_HANDLE ); return status;&#125; DriverEntry是所有驱动程序的入口，类似于用户应用的main()初始化一个NTSTATUS变量status分配驱动程序配置对象config打印信息KmdfHelloWorld: DriverEntry\\n初始化驱动程序配置对象为EvtDeviceAdd callback、KmdfHelloWorldEvtDeviceAdd注册入口创建驱动对象 编写KmdfHelloWorldEvtDeviceAdd 12345678910111213141516171819202122232425NTSTATUS KmdfHelloWorldEvtDeviceAdd( _In_ WDFDRIVER Driver, _Inout_ PWDFDEVICE_INIT DeviceInit)&#123; // We&#x27;re not using the driver object, // so we need to mark it as unreferenced UNREFERENCED_PARAMETER(Driver); NTSTATUS status; // Allocate the device object WDFDEVICE hDevice; // Print &quot;Hello World&quot; KdPrintEx(( DPFLTR_IHVDRIVER_ID, DPFLTR_INFO_LEVEL, &quot;KmdfHelloWorld: KmdfHelloWorldEvtDeviceAdd\\n&quot; )); // Create the device object status = WdfDeviceCreate(&amp;DeviceInit, WDF_NO_OBJECT_ATTRIBUTES, &amp;hDevice ); return status;&#125; KmdfHelloWorldEvtDeviceAdd中没有使用驱动程序对象，因此需要将其标记为未引用初始化状态status分配设备对象hDevice打印KmdfHelloWorld: KmdfHelloWorldEvtDeviceAdd\\n创建设备对象 1.3 生成驱动程序设置Debug x64 关闭Wpp Tracing 生成驱动程序 1.4 部署驱动程序远程调试驱动程序方法","categories":[],"tags":[]},{"title":"Markdown学习笔记","slug":"Markdown学习笔记","date":"2022-04-07T12:38:53.000Z","updated":"2022-04-08T01:53:18.290Z","comments":true,"path":"2022/04/07/Markdown学习笔记/","link":"","permalink":"http://example.com/2022/04/07/Markdown%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/","excerpt":"","text":"Markdown学习笔记一、标题 一级标题 一级标题1# 一级标题 二级标题 二级标题1## 二级标题 三级标题 三级标题1### 三级标题 四级标题 四级标题1#### 四级标题 五级标题 五级标题1##### 五级标题 六级标题 六级标题1###### 六级标题 二、格式 字体 斜体 12*斜体*_斜体_ 粗体 12**粗体**__粗体__ 粗斜体 12***粗斜体***___粗斜体___ 分割线 12---*** 删除线 1~~删除线~~ 下划线 1&lt;u&gt;下划线&lt;/u&gt; 脚注^1 12脚注[1][^1]:这是个脚注 三、列表 无序列表 第一项* 第二项+ 第三项- 有序列表 第一项1. 第二项2. 第三项3. 列表嵌套 第一项 第一项 第二项 第二项 第一项 第二项 待办事项 第一项 第二项 四、区块 区块引用——使用&gt; 引用1 引用2 引用3 引用4 以此类推 区块引用中使用列表 列表： 第一项 第二项 第一项 第二项 第三项 列表中使用区块 第一项 区块 第二项 区块 五、代码 print()函数 1print() 代码区块 123456#include &lt;iostream&gt;int main()&#123; return 0;&#125; 六、链接 超链接 1[超链接](https://www.baidu.com) https://www.baidu.com 1&lt;https://www.baidu.com&gt; 高级链接1、高级链接2 1[高级链接1][1]、[高级链接2][2] 七、图片 ![alt png](C:\\Users\\Administrator\\Documents\\ImageCache\\local.png &quot;本地&quot;) 12345 ![alt png](C:\\Users\\Administrator\\Documents\\ImageCache\\local.png &quot;本地&quot;) 2. ``` ![bing](https://api.xygeng.cn/Bing/ &quot;必应每日一图&quot;) ![bing](https://api.xygeng.cn/Bing/ &quot;必应每日一图&quot;) &#96;&#96;&#96; 12345 &lt;img src=&quot;https://api.xygeng.cn/Bing/&quot; alt=&quot;Bing每日图片&quot;&gt;4. [runoob][png] [runoob][png] 12345678910111213[png]:https://static.runoob.com/images/runoob-logo.png## 八、表格1. 语法： | ID | 性别 | | ---- | ---- | | 1 | 男 | | 2 | 男 | | 3 | 女 | | ID | 性别 | | ---- | ---- | | 1 | 男 | | 2 | 男 | | 3 | 女 | 12345678 2. 对齐方式 |左对齐|右对齐|居中对齐| |:----|----:|:----:| |单元格|单元格|单元格| |单元格|单元格|单元格| |左对齐|右对齐|居中对齐| |:----|----:|:----:| |单元格|单元格|单元格| |单元格|单元格|单元格| 123456789101112131415161718192021222324252627282930313233343536373839404142## 九、进阶1. 支持HTML元素——不在Markdown涵盖范围内的标签，都可以在文档里用HTML撰写 使用 &lt;kbd&gt;Win&lt;/kbd&gt;+&lt;kbd&gt;D&lt;/kbd&gt; 回到桌面 2. 转义 &gt; \\\\ &gt; &gt; \\` &gt; &gt; \\* &gt; &gt; \\_ &gt; &gt; \\&#123;\\&#125; &gt; &gt; \\[\\] &gt; &gt; \\(\\) &gt; &gt; \\# &gt; &gt; \\+ &gt; &gt; \\- &gt; &gt; \\. &gt; &gt; \\!3. 公式 $$ \\mathbf&#123;V&#125;_1 \\times \\mathbf&#123;V&#125;_2 = \\begin&#123;vmatrix&#125; \\mathbf&#123;i&#125; &amp; \\mathbf&#123;j&#125; &amp; \\mathbf&#123;k&#125; \\\\ \\frac&#123;\\partial X&#125;&#123;\\partial u&#125; &amp; \\frac&#123;\\partial Y&#125;&#123;\\partial u&#125; &amp; 0 \\\\ \\frac&#123;\\partial X&#125;&#123;\\partial v&#125; &amp; \\frac&#123;\\partial Y&#125;&#123;\\partial v&#125; &amp; 0 \\\\ \\end&#123;vmatrix&#125; $&#123;$tep1&#125;&#123;\\style&#123;visibility:hidden&#125;&#123;(x+1)(x+1)&#125;&#125; $$ $$ \\mathbf{V}_1 \\times \\mathbf{V}_2 = \\begin{vmatrix} \\mathbf{i} & \\mathbf{j} & \\mathbf{k} \\\\ \\frac{\\partial X}{\\partial u} & \\frac{\\partial Y}{\\partial u} & 0 \\\\ \\frac{\\partial X}{\\partial v} & \\frac{\\partial Y}{\\partial v} & 0 \\\\ \\end{vmatrix} ${$tep1}{\\style{visibility:hidden}{(x+1)(x+1)}} $$ 12345678910111213 4. 横向流程图 ```mermaid graph LR A[方形] --&gt;B(圆角) B --&gt; C&#123;条件a&#125; C --&gt;|a=1| D[结果1] C --&gt;|a=2| E[结果2] F[横向流程图] 123456graph LRA[方形] --&gt;B(圆角) B --&gt; C&#123;条件a&#125; C --&gt;|a=1| D[结果1] C --&gt;|a=2| E[结果2] F[横向流程图] 竖向流程图 123456graph TDA[方形] --&gt; B(圆角) B --&gt; C&#123;条件a&#125; C --&gt; |a=1| D[结果1] C --&gt; |a=2| E[结果2] F[竖向流程图] 123456graph TDA[方形] --&gt; B(圆角) B --&gt; C&#123;条件a&#125; C --&gt; |a=1| D[结果1] C --&gt; |a=2| E[结果2] F[竖向流程图] 标准流程图123456789st=&gt;start: 开始框op=&gt;operation: 处理框cond=&gt;condition: 判断框(是或否?)sub1=&gt;subroutine: 子流程io=&gt;inputoutput: 输入输出框e=&gt;end: 结束框st-&gt;op-&gt;condcond(yes)-&gt;io-&gt;econd(no)-&gt;sub1(right)-&gt;op 1234567891011```flowst=&gt;start: 开始框op=&gt;operation: 处理框cond=&gt;condition: 判断框(是或否?)sub1=&gt;subroutine: 子流程io=&gt;inputoutput: 输入输出框e=&gt;end: 结束框st-&gt;op-&gt;condcond(yes)-&gt;io-&gt;econd(no)-&gt;sub1(right)-&gt;op​``` 标准流程图（横向）123456789st=&gt;start: 开始框op=&gt;operation: 处理框cond=&gt;condition: 判断框(是或否?)sub1=&gt;subroutine: 子流程io=&gt;inputoutput: 输入输出框e=&gt;end: 结束框st(right)-&gt;op(right)-&gt;condcond(yes)-&gt;io(bottom)-&gt;econd(no)-&gt;sub1(right)-&gt;op 1234567891011```flowst=&gt;start: 开始框op=&gt;operation: 处理框cond=&gt;condition: 判断框(是或否?)sub1=&gt;subroutine: 子流程io=&gt;inputoutput: 输入输出框e=&gt;end: 结束框st(right)-&gt;op(right)-&gt;condcond(yes)-&gt;io(bottom)-&gt;econd(no)-&gt;sub1(right)-&gt;op​``` UML时序图12345对象A-&gt;对象B: 对象B你好吗?（请求）Note right of 对象B: 对象B的描述Note left of 对象A: 对象A的描述(提示)对象B--&gt;对象A: 我很好(响应)对象A-&gt;对象B: 你真的好吗？ 1234567```sequence对象A-&gt;对象B: 对象B你好吗?（请求）Note right of 对象B: 对象B的描述Note left of 对象A: 对象A的描述(提示)对象B--&gt;对象A: 我很好(响应)对象A-&gt;对象B: 你真的好吗？​``` UML时序图（复杂）1234567891011Title: 标题：复杂使用对象A-&gt;对象B: 对象B你好吗?（请求）Note right of 对象B: 对象B的描述Note left of 对象A: 对象A的描述(提示)对象B--&gt;对象A: 我很好(响应)对象B-&gt;小三: 你好吗小三--&gt;&gt;对象A: 对象B找我了对象A-&gt;对象B: 你真的好吗？Note over 小三,对象B: 我们是朋友participant CNote right of C: 没人陪我玩 12345678910111213```sequenceTitle: 标题：复杂使用对象A-&gt;对象B: 对象B你好吗?（请求）Note right of 对象B: 对象B的描述Note left of 对象A: 对象A的描述(提示)对象B--&gt;对象A: 我很好(响应)对象B-&gt;小三: 你好吗小三--&gt;&gt;对象A: 对象B找我了对象A-&gt;对象B: 你真的好吗？Note over 小三,对象B: 我们是朋友participant CNote right of C: 没人陪我玩​``` UML标准时序图123456789101112%% 时序图例子,-&gt; 直线，--&gt;虚线，-&gt;&gt;实线箭头 sequenceDiagram participant 张三 participant 李四 张三-&gt;王五: 王五你好吗？ loop 健康检查 王五-&gt;王五: 与疾病战斗 end Note right of 王五: 合理 食物 &lt;br/&gt;看医生... 李四--&gt;&gt;张三: 很好! 王五-&gt;李四: 你怎么样? 李四--&gt;王五: 很好! 1234567891011121314```mermaid%% 时序图例子,-&gt; 直线，--&gt;虚线，-&gt;&gt;实线箭头 sequenceDiagram participant 张三 participant 李四 张三-&gt;王五: 王五你好吗？ loop 健康检查 王五-&gt;王五: 与疾病战斗 end Note right of 王五: 合理 食物 &lt;br/&gt;看医生... 李四--&gt;&gt;张三: 很好! 王五-&gt;李四: 你怎么样? 李四--&gt;王五: 很好!​``` 甘特图12345678910111213141516171819%% 语法示例 gantt dateFormat YYYY-MM-DD title 软件开发甘特图 section 设计 需求 :done, des1, 2014-01-06,2014-01-08 原型 :active, des2, 2014-01-09, 3d UI设计 : des3, after des2, 5d 未来任务 : des4, after des3, 5d section 开发 学习准备理解需求 :crit, done, 2014-01-06,24h 设计框架 :crit, done, after des2, 2d 开发 :crit, active, 3d 未来任务 :crit, 5d 耍 :2d section 测试 功能测试 :active, a1, after des3, 3d 压力测试 :after a1 , 20h 测试报告 : 48h 123456789101112131415161718192021```mermaid%% 语法示例 gantt dateFormat YYYY-MM-DD title 软件开发甘特图 section 设计 需求 :done, des1, 2014-01-06,2014-01-08 原型 :active, des2, 2014-01-09, 3d UI设计 : des3, after des2, 5d 未来任务 : des4, after des3, 5d section 开发 学习准备理解需求 :crit, done, 2014-01-06,24h 设计框架 :crit, done, after des2, 2d 开发 :crit, active, 3d 未来任务 :crit, 5d 耍 :2d section 测试 功能测试 :active, a1, after des3, 3d 压力测试 :after a1 , 20h 测试报告 : 48h​```","categories":[],"tags":[]}],"categories":[],"tags":[]}